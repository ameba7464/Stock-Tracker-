# üéâ –û—Ç—á–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å–∫–ª–∞–¥–æ–≤ –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å

**–î–∞—Ç–∞:** 26 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  
**–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–æ–≤:** 5/5 (100%)

---

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–±–ª–µ–º—ã

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞
–°–∫–ª–∞–¥ **"–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å"** —Å 1026 –µ–¥–∏–Ω–∏—Ü–∞–º–∏ —Ç–æ–≤–∞—Ä–∞ **ItsSport2/50g** –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω —Å–∏—Å—Ç–µ–º–æ–π Stock Tracker –∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –≤ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫:

- **–ü–æ—Ç–µ—Ä–µ 1026 –µ–¥–∏–Ω–∏—Ü** —Ç–æ–≤–∞—Ä–∞ –∏–∑ —É—á–µ—Ç–∞
- **23 —Å–∫–ª–∞–¥–∞ –∏–∑ –æ—Ç—á–µ—Ç–∞ Wildberries** –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ Stock Tracker
- **77% –ø—Ä–æ–¥—É–∫—Ç–æ–≤** –∏–º–µ–ª–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ –∑–∞–∫–∞–∑–∞–º
- **92% –ø—Ä–æ–¥—É–∫—Ç–æ–≤** –∏–º–µ–ª–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞
–¶–µ–ø–æ—á–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–∫–ª–∞–¥–æ–≤ –∏–∑ 3 —É—Ä–æ–≤–Ω–µ–π:
```
normalize_warehouse_name() 
  ‚Üí is_real_warehouse() 
    ‚Üí validate_warehouse_name()
```

–ù–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º —É—Ä–æ–≤–Ω–µ **validate_warehouse_name()** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –∂–µ—Å—Ç–∫–∏–µ regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
- `r'^[–ê-–Ø–∞-—è\s\-\(\)]+\d*$'` - –æ—Ç–∫–ª–æ–Ω—è–ª –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∏–ø–∞ "Marketplace"
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã `"–º–ø "`, `"mp "` —Å –ø—Ä–æ–±–µ–ª–∞–º–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã `"–ú–ü-1"`, `"MP-Storage"`

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **calculator.py: is_real_warehouse()**

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –£–±—Ä–∞–Ω–∞ –∂–µ—Å—Ç–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è `validate_warehouse_name()`
- ‚úÖ –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –¥–µ—Ç–µ–∫—Ü–∏—è —Å—Ç–∞–ª–∞ **–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º #1**
- ‚úÖ –£–±—Ä–∞–Ω—ã –ø—Ä–æ–±–µ–ª—ã –∏–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤: `"–º–ø"`, `"mp"` (–±—ã–ª–æ `"–º–ø "`, `"mp "`)
- ‚úÖ –ë–æ–ª–µ–µ –º—è–≥–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—ã—á–Ω—ã—Ö —Å–∫–ª–∞–¥–æ–≤ (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–ª–∏—á–∏—è —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–π –±—É–∫–≤—ã)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–∏—è/–∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å–∫–ª–∞–¥–æ–≤

**–§–∞–π–ª:** `src/stock_tracker/core/calculator.py`  
**–§—É–Ω–∫—Ü–∏—è:** `is_real_warehouse()` (—Å—Ç—Ä–æ–∫–∏ ~46-108)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```python
‚úÖ 30/30 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ Marketplace —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è
‚úÖ 7/7 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç is_real_warehouse()
‚úÖ 10/10 –æ–±—ã—á–Ω—ã—Ö —Å–∫–ª–∞–¥–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

---

### 2. **warehouse_mapper.py: WAREHOUSE_NAME_MAPPINGS**

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å **8 –¥–æ 48 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** –¥–ª—è "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å"
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:
  - –° –Ω–æ–º–µ—Ä–∞–º–∏: `–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å-1`, `MP-1`, `–ú–ü-1`
  - –õ–∞—Ç–∏–Ω–∏—Ü–∞: `Marketplace`, `Seller Warehouse`, `FBS Warehouse`
  - –°–æ–∫—Ä–∞—â–µ–Ω–∏—è: `–ú–ü`, `MP`, `–°–ü`, `FBS`
  - –° —É—Ç–æ—á–Ω–µ–Ω–∏—è–º–∏: `–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (FBS)`, `Marketplace (FBS)`

**–§–∞–π–ª:** `src/stock_tracker/utils/warehouse_mapper.py`  
**–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞:** `WAREHOUSE_NAME_MAPPINGS` (—Å—Ç—Ä–æ–∫–∏ ~16-49)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```python
‚úÖ 8/8 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞–π–¥–µ–Ω—ã –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ
‚úÖ 8/8 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –∫ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–º—É "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å"
```

---

### 3. **warehouse_mapper.py: _find_partial_match()**

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç #1:** –ü—Ä–æ–≤–µ—Ä–∫–∞ Marketplace –ü–ï–†–ï–î –≤—Å–µ–º–∏ –¥—Ä—É–≥–∏–º–∏ —Å–∫–ª–∞–¥–∞–º–∏
- ‚úÖ –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤: `–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å`, `marketplace`, `fbs`, `—Å–∫–ª–∞–¥ –ø—Ä–æ–¥–∞–≤—Ü–∞`
- ‚úÖ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω —Ö–æ—Ç—è –±—ã –û–î–ò–ù –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä - —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `"–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å"`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

**–§–∞–π–ª:** `src/stock_tracker/utils/warehouse_mapper.py`  
**–ú–µ—Ç–æ–¥:** `WarehouseNameMapper._find_partial_match()` (—Å—Ç—Ä–æ–∫–∏ ~71-120)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```python
‚úÖ –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã Marketplace –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ü–ï–†–í–´–ú–ò
‚úÖ –û–±—ã—á–Ω—ã–µ —Å–∫–ª–∞–¥—ã –Ω–µ –ø–µ—Ä–µ–ø—É—Ç—ã–≤–∞—é—Ç—Å—è —Å Marketplace
```

---

### 4. **warehouse_mapper.py: is_marketplace_warehouse()**

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –£–±—Ä–∞–Ω—ã –ø—Ä–æ–±–µ–ª—ã –∏–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤: `"–º–ø"`, `"mp"` (–±—ã–ª–æ `"–º–ø "`, `"mp "`)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: `"–º–∞—Ä–∫–µ—Ç"`, `"seller"`, `"fulfillment"`

**–§–∞–π–ª:** `src/stock_tracker/utils/warehouse_mapper.py`  
**–§—É–Ω–∫—Ü–∏—è:** `is_marketplace_warehouse()` (—Å—Ç—Ä–æ–∫–∏ ~204-232)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```python
‚úÖ 30/30 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ Marketplace –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è
```

---

### 5. **calculator.py: group_data_by_product()**

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–∫–ª–∞–¥–æ–≤ –∏–∑ API
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–∏—è/–∏—Å–∫–ª—é—á–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Å–∫–ª–∞–¥–∞
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Marketplace —Å–∫–ª–∞–¥–æ–≤ —Å emoji üè™
- ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç: –≤—Å–µ–≥–æ —Å–∫–ª–∞–¥–æ–≤, Marketplace, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª:** `src/stock_tracker/core/calculator.py`  
**–§—É–Ω–∫—Ü–∏—è:** `group_data_by_product()` (—Å—Ç—Ä–æ–∫–∏ ~463-580)

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üè™ MARKETPLACE INCLUDED: '–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å' -> '–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å' (qty: 1026)
üìä WAREHOUSE SUMMARY:
   Total unique warehouses from API: 45
   Marketplace warehouses detected: 1
   Warehouses filtered out: 0
```

---

### 6. **calculator.py: DELIVERY_STATUSES**

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å `"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω"` –≤ —Å–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

**–§–∞–π–ª:** `src/stock_tracker/core/calculator.py`  
**–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞:** `DELIVERY_STATUSES` (—Å—Ç—Ä–æ–∫–∏ ~26-36)

---

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç: `test_marketplace_fixes.py`

**5 —Ç–µ—Å—Ç–æ–≤ - –í–°–ï –ü–†–û–ô–î–ï–ù–´ ‚úÖ**

#### –¢–µ—Å—Ç 1: –î–µ—Ç–µ–∫—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
```
‚úÖ PASSED: 30/30 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ
–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å, Marketplace, –ú–ü-1, MP-1, FBS, –°–∫–ª–∞–¥ –ø—Ä–æ–¥–∞–≤—Ü–∞ –∏ —Ç.–¥.
```

#### –¢–µ—Å—Ç 2: is_real_warehouse() –≤–∫–ª—é—á–∞–µ—Ç –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
```
‚úÖ PASSED: 7/7 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø—Ä–æ–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ —Ñ–∏–ª—å—Ç—Ä
–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å, Marketplace, –ú–ü-1, MP-1, –°–∫–ª–∞–¥ –ø—Ä–æ–¥–∞–≤—Ü–∞, FBS Warehouse, FBS-1
```

#### –¢–µ—Å—Ç 3: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫ '–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å'
```
‚úÖ PASSED: 8/8 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–º—É "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å"
```

#### –¢–µ—Å—Ç 4: –û–±—ã—á–Ω—ã–µ —Å–∫–ª–∞–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
```
‚úÖ PASSED: 10/10 —Å–∫–ª–∞–¥–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
–í–∫–ª—é—á–µ–Ω—ã: –ù–æ–≤–æ—Å–µ–º–µ–π–∫–∏–Ω–æ, –ß–µ—Ö–æ–≤ 1, –ü–æ–¥–æ–ª—å—Å–∫ 3, –¢—É–ª–∞, –ë–µ–ª—ã–µ –°—Ç–æ–ª–±—ã
–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã: –ò—Ç–æ–≥–æ, –í –ø—É—Ç–∏, –û—Ç–ø—Ä–∞–≤–ª–µ–Ω, 123, –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
```

#### –¢–µ—Å—Ç 5: –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω
```
‚úÖ PASSED: 8/8 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ
48 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ Marketplace –≤ WAREHOUSE_NAME_MAPPINGS
```

---

## üìä –í–ª–∏—è–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```
‚ùå –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å: 0 –µ–¥–∏–Ω–∏—Ü (–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω)
‚ùå –ü–æ—Ç–µ—Ä—è–Ω–æ: 1026 –µ–¥–∏–Ω–∏—Ü ItsSport2/50g
‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç: 23 —Å–∫–ª–∞–¥–∞ –∏–∑ WB –æ—Ç—á–µ—Ç–∞
‚ùå –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è: 77% –ø–æ –∑–∞–∫–∞–∑–∞–º, 92% –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º
```

### –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```
‚úÖ –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å: –í–ö–õ–Æ–ß–ï–ù –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É
‚úÖ –í—Å–µ 1026 –µ–¥–∏–Ω–∏—Ü —É—á—Ç–µ–Ω—ã
‚úÖ –í—Å–µ 30 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ Marketplace —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è
‚úÖ –û–±—ã—á–Ω—ã–µ —Å–∫–ª–∞–¥—ã –Ω–µ —Å–ª–æ–º–∞–Ω—ã (100% —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ)
‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **src/stock_tracker/core/calculator.py**
   - –§—É–Ω–∫—Ü–∏—è `is_real_warehouse()` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞
   - –§—É–Ω–∫—Ü–∏—è `group_data_by_product()` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `DELIVERY_STATUSES` - –¥–æ–±–∞–≤–ª–µ–Ω "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω"

2. **src/stock_tracker/utils/warehouse_mapper.py**
   - –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `WAREHOUSE_NAME_MAPPINGS` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ —Å 8 –¥–æ 48 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
   - –ú–µ—Ç–æ–¥ `_find_partial_match()` - –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç Marketplace
   - –§—É–Ω–∫—Ü–∏—è `is_marketplace_warehouse()` - —É–ª—É—á—à–µ–Ω–∞ –¥–µ—Ç–µ–∫—Ü–∏—è

3. **test_marketplace_fixes.py** (–ù–û–í–´–ô)
   - –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
   - 5 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
   - –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–µ—Å—Ç—É

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å WB API:**
   ```bash
   python run_full_sync.py
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:**
   ```
   üè™ MARKETPLACE INCLUDED: ...
   üìä WAREHOUSE SUMMARY: ...
   ```

3. **–°—Ä–∞–≤–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ Stock Tracker —Å –Ω–æ–≤—ã–º —ç–∫—Å–ø–æ—Ä—Ç–æ–º WB:**
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å —Å–∫–ª–∞–¥ —Ç–µ–ø–µ—Ä—å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ 1026 –µ–¥–∏–Ω–∏—Ü ItsSport2/50g —É—á—Ç–µ–Ω—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ 23+ —Å–∫–ª–∞–¥–∞ –∏–∑ WB –æ—Ç—á–µ—Ç–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ `‚ö†Ô∏è FILTERED WAREHOUSES:` - —Å–ø–∏—Å–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ `Marketplace warehouses detected: > 0` –≤ –ª–æ–≥–∞—Ö

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–∫–ª–∞–¥–æ–≤ (–æ–±–Ω–æ–≤–ª–µ–Ω):

```
1. –ü–†–û–í–ï–†–ö–ê –ú–ê–†–ö–ï–¢–ü–õ–ï–ô–° (–ü–†–ò–û–†–ò–¢–ï–¢ #1) ‚≠ê
   - –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å, marketplace, fbs, —Å–∫–ª–∞–¥ –ø—Ä–æ–¥–∞–≤—Ü–∞, –º–ø, mp, —Å–ø
   - –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ ‚Üí –ù–ï–ú–ï–î–õ–ï–ù–ù–û –≤–∫–ª—é—á–∞–µ–º, –¥–∞–ª—å—à–µ –ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ–º

2. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏
   - DELIVERY_STATUSES: "–í –ø—É—Ç–∏", "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω", "–ò—Ç–æ–≥–æ" –∏ —Ç.–¥.

3. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫
   - –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: "–∏—Ç–æ–≥", "–≤—Å–µ–≥–æ", "–æ–±—â–∏–π"

4. –ú—è–≥–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—ã—á–Ω—ã—Ö —Å–∫–ª–∞–¥–æ–≤
   - –ï—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –±—É–∫–≤–∞ ‚Üí –í–ö–õ–Æ–ß–ê–ï–ú
   - –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã / –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Üí –û–¢–ö–õ–û–ù–Ø–ï–ú
```

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫–ª–∞–¥–æ–≤ (–æ–±–Ω–æ–≤–ª–µ–Ω–∞):

```
1. –ü—Ä—è–º–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ WAREHOUSE_NAME_MAPPINGS
   ‚Üì
2. –ü–†–ò–û–†–ò–¢–ï–¢: –ü–æ–∏—Å–∫ Marketplace –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
   ‚Üì
3. –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Å–∫–ª–∞–¥–æ–≤
   ‚Üì
4. –í–æ–∑–≤—Ä–∞—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ)
```

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê ‚úÖ

–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–∫–ª–∞–¥—ã –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –±–æ–ª—å—à–µ –ù–ï —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è
- ‚úÖ –í—Å–µ 30 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏–π Marketplace/FBS –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (48 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚Üí "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å")
- ‚úÖ –û–±—ã—á–Ω—ã–µ —Å–∫–ª–∞–¥—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ —Å–±–æ–µ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ 100% —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ (5/5)

**–í–ª–∏—è–Ω–∏–µ:**
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: 1026 –µ–¥–∏–Ω–∏—Ü —Ç–æ–≤–∞—Ä–∞ ItsSport2/50g
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: 23+ —Å–∫–ª–∞–¥–æ–≤ –∏–∑ –æ—Ç—á–µ—Ç–∞ Wildberries
- –û–∂–∏–¥–∞–µ—Ç—Å—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ: —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –ø–æ –∑–∞–∫–∞–∑–∞–º (77% ‚Üí ~0%)
- –û–∂–∏–¥–∞–µ—Ç—Å—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ: —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º (92% ‚Üí ~0%)

---

**–û—Ç—á–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª:** GitHub Copilot  
**–î–∞—Ç–∞:** 26 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0
