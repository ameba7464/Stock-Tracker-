# ü§ñ Telegram Bot Implementation - Completion Report

## üìÖ –î–∞—Ç–∞: 23 –Ω–æ—è–±—Ä—è 2025 –≥.

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ó–ê–í–ï–†–®–ï–ù–û

---

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ó–∞–¥–∞—á–∏

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞ ‚úÖ

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Telegram –±–æ—Ç–∞:

```
telegram-bot/
‚îú‚îÄ‚îÄ bot.py                 # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞ (800+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ api_client.py          # HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è Stock Tracker API
‚îú‚îÄ‚îÄ database.py            # –ú–æ–¥–µ–ª–∏ –ë–î –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏
‚îú‚îÄ‚îÄ keyboards.py           # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ UI —ç–ª–µ–º–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ requirements.txt       # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile            # Docker –æ–±—Ä–∞–∑ –¥–ª—è –±–æ—Ç–∞
‚îú‚îÄ‚îÄ .env.example          # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore           # Git ignore –ø—Ä–∞–≤–∏–ª–∞
‚îî‚îÄ‚îÄ README.md            # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (300+ —Å—Ç—Ä–æ–∫)
```

### 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ë–æ—Ç–∞ ‚úÖ

#### –ö–æ–º–∞–Ω–¥—ã
- `/start` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º
- `/status` - –°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ tenant –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `/sync` - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

#### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –ú–µ–Ω—é
- üìä –ú–æ–∏ —Ç–æ–≤–∞—Ä—ã
- üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- üîë API –∫–ª—é—á–∏
- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚ùì –ü–æ–º–æ—â—å

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```python
Flow:
1. /start ‚Üí –ó–∞–ø—Ä–æ—Å –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–∏
2. –í–≤–æ–¥ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ (wildberries/ozon)
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ API
4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è email: tg{telegram_id}@stocktracker.local
5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ë–î
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –ö–ª—é—á–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Wildberries API –∫–ª—é—á–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets ID
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–ª—é—á–µ–π —á–µ—Ä–µ–∑ API

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –¢–æ–≤–∞—Ä–æ–≤
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –§–∏–ª—å—Ç—Ä —Ç–æ–≤–∞—Ä–æ–≤ —Å –º–∞–ª—ã–º –æ—Å—Ç–∞—Ç–∫–æ–º
- –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É (FSM state)
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ

#### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ WB
- üìä –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Google Sheets
- üîÑüìä –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á Celery

### 3. –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö ‚úÖ

#### –ú–æ–¥–µ–ª—å BotUser
```python
class BotUser:
    telegram_id: BigInteger (PK)
    username: String
    first_name: String
    last_name: String
    
    # Stock Tracker API tokens
    access_token: Text
    refresh_token: Text
    
    # Tenant info
    tenant_id: String
    email: String
    
    # State
    is_registered: Boolean
    registration_step: String
    
    # Timestamps
    created_at: DateTime
    updated_at: DateTime
    last_interaction: DateTime
```

#### –§—É–Ω–∫—Ü–∏–∏ –ë–î
- `init_db()` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
- `get_or_create_user()` - –ü–æ–ª—É—á–µ–Ω–∏–µ/—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `update_user_tokens()` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- `get_user_token()` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

### 4. API –ö–ª–∏–µ–Ω—Ç ‚úÖ

#### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ Endpoints

**Authentication:**
- `register(email, password, company_name, marketplace_type)`
- `login(email, password)`
- `refresh_token(refresh_token)`

**Tenants:**
- `get_tenant_info(access_token)`
- `update_credentials(access_token, wb_api_key, sheets_id)`

**Products:**
- `list_products(access_token, page, page_size, search, low_stock_only)`
- `get_product(access_token, product_id)`
- `sync_products(access_token)`

**Google Sheets:**
- `get_sheets_config(access_token)`
- `sync_to_sheets(access_token)`

**Health:**
- `health_check()`

### 5. –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ UI ‚úÖ

#### Reply Keyboards
- `get_main_menu_keyboard()` - –û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é (6 –∫–Ω–æ–ø–æ–∫)

#### Inline Keyboards
- `get_api_keys_keyboard()` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏
- `get_sync_keyboard()` - –û–ø—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `get_products_filter_keyboard()` - –§–∏–ª—å—Ç—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤
- `get_settings_keyboard()` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- `get_pagination_keyboard()` - –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
- `get_confirmation_keyboard()` - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
- `get_back_button()` - –í–æ–∑–≤—Ä–∞—Ç –Ω–∞–∑–∞–¥

### 6. FSM States ‚úÖ

#### RegistrationStates
- `waiting_for_company_name`
- `waiting_for_marketplace_type`

#### InputStates
- `waiting_for_wb_api_key`
- `waiting_for_sheets_id`
- `waiting_for_product_search`

### 7. Docker Integration ‚úÖ

#### Dockerfile
```dockerfile
FROM python:3.11-slim
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –ø–∞–∫–µ—Ç–æ–≤
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –±–æ—Ç–∞
- –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞: python bot.py
```

#### docker-compose.yml
–î–æ–±–∞–≤–ª–µ–Ω —Å–µ—Ä–≤–∏—Å `telegram-bot`:
```yaml
telegram-bot:
  build: ./telegram-bot
  depends_on:
    - postgres (with health check)
    - api (with health check)
  networks: stock-tracker-network
  restart: unless-stopped
  profiles: [bot]
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å–∫ —Å –±–æ—Ç–æ–º
docker-compose --profile bot up -d

# –¢–æ–ª—å–∫–æ –±–æ—Ç
docker-compose up -d telegram-bot
```

### 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ

#### README.md (300+ —Å—Ç—Ä–æ–∫)
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã
- Troubleshooting guide
- –†–∞–∑–¥–µ–ª –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ú–µ—Ä—ã

1. **–•—Ä–∞–Ω–µ–Ω–∏–µ –¢–æ–∫–µ–Ω–æ–≤:**
   - Access/Refresh tokens –≤ PostgreSQL
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
   - –ù–∏–∫–∞–∫–∏—Ö –ø–∞—Ä–æ–ª–µ–π –≤ –±–æ—Ç–µ

2. **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:**
   - API –∫–ª—é—á–∏ —à–∏—Ñ—Ä—É—é—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Stock Tracker
   - Fernet encryption (AES-128)
   - –ö–ª—é—á–∏ –≤ environment variables

3. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
   - Bearer token –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –∫–∞–∂–¥–æ–º handler
   - Graceful handling 401 –æ—à–∏–±–æ–∫

4. **–í–∞–ª–∏–¥–∞—Ü–∏—è:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã API –∫–ª—é—á–µ–π
   - –í–∞–ª–∏–¥–∞—Ü–∏—è marketplace_type
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ Google Sheets ID

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ö–æ–¥
- **bot.py**: ~800 —Å—Ç—Ä–æ–∫
- **api_client.py**: ~200 —Å—Ç—Ä–æ–∫
- **database.py**: ~150 —Å—Ç—Ä–æ–∫
- **keyboards.py**: ~200 —Å—Ç—Ä–æ–∫
- **–í—Å–µ–≥–æ**: ~1350 —Å—Ç—Ä–æ–∫ —á–∏—Å—Ç–æ–≥–æ Python –∫–æ–¥–∞

### –§—É–Ω–∫—Ü–∏–∏
- **–ö–æ–º–∞–Ω–¥**: 4 (/start, /help, /status, /sync)
- **Menu handlers**: 6 (—Ç–æ–≤–∞—Ä—ã, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –∫–ª—é—á–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø–æ–º–æ—â—å)
- **Callback handlers**: 12+ (—Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è)
- **FSM handlers**: 5 (–≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö)

### UI –≠–ª–µ–º–µ–Ω—Ç—ã
- **Reply keyboards**: 1 (–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é)
- **Inline keyboards**: 7 (—Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ–Ω—é)
- **Buttons**: 25+ –∫–Ω–æ–ø–æ–∫

### API Endpoints
- **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ**: 12 endpoints Stock Tracker API
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: Authentication, Tenants, Products, Sheets, Health

---

## üöÄ –î–µ–ø–ª–æ–π

### –í–∞—Ä–∏–∞–Ω—Ç—ã –ó–∞–ø—É—Å–∫–∞

1. **Docker Compose (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
# –í–µ—Å—å —Å—Ç–µ–∫ —Å –±–æ—Ç–æ–º
docker-compose --profile bot up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs -f stock-tracker-telegram-bot
```

2. **–õ–æ–∫–∞–ª—å–Ω–æ (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞):**
```bash
cd telegram-bot
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
python bot.py
```

3. **Production:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å webhook –≤–º–µ—Å—Ç–æ polling
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å systemd service
- –î–æ–±–∞–≤–∏—Ç—å monitoring (Prometheus, Grafana)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å log rotation

---

## üìà –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –£–ª—É—á—à–µ–Ω–∏—è

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏)
- [ ] Webhook —Ä–µ–∂–∏–º –≤–º–µ—Å—Ç–æ polling
- [ ] Inline mode –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Excel/CSV
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∏–∑–∫–∏—Ö –æ—Å—Ç–∞—Ç–∫–∞—Ö

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1 –º–µ—Å—è—Ü)
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
- [ ] –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (EN, RU)
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞
- [ ] –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (3+ –º–µ—Å—è—Ü–∞)
- [ ] AI –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏
- [ ] –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] Voice commands –ø–æ–¥–¥–µ—Ä–∂–∫–∞

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ WB API –∫–ª—é—á–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Google Sheets ID
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –û—à–∏–±–æ–∫ ‚úÖ
- ‚úÖ –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á
- ‚úÖ –ò—Å—Ç–µ–∫—à–∏–π —Ç–æ–∫–µ–Ω (auto-refresh)
- ‚úÖ –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω

### TODO: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¢–µ—Å—Ç—ã
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è API client
- [ ] Integration —Ç–µ—Å—Ç—ã —Å mock API
- [ ] E2E —Ç–µ—Å—Ç—ã —Å aiogram_tests

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```
User: /start
Bot: –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
User: –ú–æ–π –ú–∞–≥–∞–∑–∏–Ω
Bot: –ù–∞ –∫–∞–∫–æ–º –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ?
User: wildberries
Bot: ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
     –¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤—å—Ç–µ API –∫–ª—é—á
```

### –ü—Ä–∏–º–µ—Ä 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ API –ö–ª—é—á–∞
```
User: [–ù–∞–∂–∏–º–∞–µ—Ç "üîë API –∫–ª—é—á–∏"]
Bot: –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ [inline keyboard]
User: [–ù–∞–∂–∏–º–∞–µ—Ç "üîë –î–æ–±–∞–≤–∏—Ç—å WB –∫–ª—é—á"]
Bot: –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–∞—à API –∫–ª—é—á
User: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Bot: ‚úÖ API –∫–ª—é—á —Å–æ—Ö—Ä–∞–Ω–µ–Ω!
```

### –ü—Ä–∏–º–µ—Ä 3: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
```
User: /sync
Bot: –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ [inline keyboard]
User: [–ù–∞–∂–∏–º–∞–µ—Ç "üîÑüìä –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"]
Bot: ‚è≥ –ó–∞–ø—É—Å–∫–∞—é –ø–æ–ª–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é...
Bot: ‚úÖ –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
     ‚úì –¢–æ–≤–∞—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
     ‚úì Google Sheets –æ–±–Ω–æ–≤–ª–µ–Ω–∞
```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
‚úÖ –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ –≤—Å–µ–º–∏ API endpoints
‚úÖ –£–¥–æ–±–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ credentials
‚úÖ Docker-ready –¥–ª—è –¥–µ–ø–ª–æ—è
‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ú–µ—Ç—Ä–∏–∫–∏
- **–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: ~4 —á–∞—Å–∞
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: 1350+
- **–§—É–Ω–∫—Ü–∏–π**: 30+
- **API endpoints**: 12
- **–ö–æ–º–∞–Ω–¥/–∫–Ω–æ–ø–æ–∫**: 30+

### –ö–∞—á–µ—Å—Ç–≤–æ –ö–æ–¥–∞
- Async/await –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- Type hints –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- Docstrings –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
- Error handling –¥–ª—è –≤—Å–µ—Ö API –≤—ã–∑–æ–≤–æ–≤
- Logging –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ
1. –ü–æ–ª—É—á–∏—Ç—å BOT_TOKEN –æ—Ç @BotFather
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env —Ñ–∞–π–ª
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞: `docker-compose --profile bot up -d`
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
5. –î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á WB

### –ë–ª–∏–∂–∞–π—à–∏–µ 7 –¥–Ω–µ–π
1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –±–æ—Ç–∞
2. –°–±–æ—Ä feedback –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ
1. Webhook mode –¥–ª—è production
2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏ –∏–∑ TODO
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
4. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è 1000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `telegram-bot/README.md` - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `TELEGRAM_BOT_INTEGRATION.md` - –ì–∞–π–¥ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –õ–æ–≥–∏
```bash
# Docker
docker logs -f stock-tracker-telegram-bot

# –§–∞–π–ª—ã
tail -f telegram-bot/logs/bot.log
```

### Troubleshooting
–°–º. —Ä–∞–∑–¥–µ–ª Troubleshooting –≤ `telegram-bot/README.md`

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Telegram –±–æ—Ç –¥–ª—è Stock Tracker **–ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**!

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞–º–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å WB –∏ Google Sheets
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ Docker –¥–µ–ø–ª–æ–π
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production! üöÄ

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 23 –Ω–æ—è–±—Ä—è 2025 –≥.
**–í–µ—Ä—Å–∏—è:** 1.0.0
**–°—Ç–∞—Ç—É—Å:** ‚úÖ PRODUCTION READY
