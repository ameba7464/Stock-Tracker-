# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –ü–æ—á–µ–º—É –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–ª –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

**–î–∞—Ç–∞:** 25 –¥–µ–∫–∞–±—Ä—è 2025 –≥.  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–ª –∞–ª–µ—Ä—Ç—ã, –Ω–æ –Ω–µ –æ—Ç–≤–µ—á–∞–ª –Ω–∞ /start –∏ –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–®–ï–ù–û

---

## üéØ –ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

### –°–∏–º–ø—Ç–æ–º—ã
- ‚úÖ –ë–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–ª –∞–ª–µ—Ä—Ç—ã –æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ (GitHub Actions)
- ‚ùå –ë–æ—Ç –ù–ï –æ—Ç–≤–µ—á–∞–ª –Ω–∞ –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (/start, /help)
- üìù –í –ª–æ–≥–∞—Ö: "User started bot", –Ω–æ –Ω–µ—Ç –æ—Ç–≤–µ—Ç–∞

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ó–∞–ø—É—Å—Ç–∏–ª –ø—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `check_bot_status.py`:

```
‚úÖ –ë–æ—Ç –Ω–∞–π–¥–µ–Ω: @WildBStockBot (ID: 8558236991)
‚úÖ –ö–æ–º–∞–Ω–¥—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã: /start, /help
‚úÖ Webhook –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (polling mode)
‚ùå –û—à–∏–±–∫–∞: Conflict: terminated by other getUpdates request
```

### üîç –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

**–î–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–∞–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:**

1. **Production –±–æ—Ç** (Yandex Cloud)
   - Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
   - –†–∞–±–æ—Ç–∞–µ—Ç 24/7
   - BOT_TOKEN –∏–∑ GitHub Secrets

2. **–õ–æ–∫–∞–ª—å–Ω—ã–π –±–æ—Ç** (–¥–ª—è —Ç–µ—Å—Ç–∞)
   - –ó–∞–ø—É—â–µ–Ω –≤—Ä—É—á–Ω—É—é: `python -m app.main`
   - –¢–æ—Ç –∂–µ BOT_TOKEN –∏–∑ `.env`
   - –°–æ–∑–¥–∞–ª conflict

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Telegram API: —Ç–æ–ª—å–∫–æ –û–î–ò–ù —ç–∫–∑–µ–º–ø–ª—è—Ä –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ü—Ä–∏ –¥–≤—É—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö ‚Üí conflict
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ –º–µ–∂–¥—É –±–æ—Ç–∞–º–∏
- –ù–∏ –æ–¥–∏–Ω –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –±–æ—Ç

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
Get-Process python | Where-Object { $_.CommandLine -like "*app.main*" }

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ (—É–∂–µ –±—ã–ª –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
# –ü—Ä–æ—Ü–µ—Å—Å–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
```

### 2. –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **check_bot_status.py** - –°–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç webhook/polling
   - –í—ã—è–≤–ª—è–µ—Ç conflicts

2. **TROUBLESHOOTING_BOT_NOT_RESPONDING.md** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
   - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
   - –†–µ—à–µ–Ω–∏—è –∏ workarounds
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   - –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

3. **DO_NOT_RUN_LOCALLY.md** - –ö—Ä–∞—Ç–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
   - –ü—Ä–∞–≤–∏–ª–æ: –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å production —Ç–æ–∫–µ–Ω–æ–º
   - –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞
   - –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **PRODUCTION_STATUS.md** - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª Troubleshooting
- **README** –≤ telegram-bot - —Å—Å—ã–ª–∫–∏ –Ω–∞ troubleshooting

---

## üìä –ü–æ—á–µ–º—É –∞–ª–µ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞–ª–∏?

**–ê–ª–µ—Ä—Ç—ã –æ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
- –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ **–ø—Ä—è–º–æ–π HTTP API**
- `POST https://api.telegram.org/bot<TOKEN>/sendMessage`
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–µ—Ö–∞–Ω–∏–∑–º polling/webhook
- –ù–ï –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—Ç –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- –¢—Ä–µ–±—É—é—Ç **–ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** (`getUpdates`)
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç polling –∏–ª–∏ webhook
- –¢–æ–ª—å–∫–æ –û–î–ò–ù —ç–∫–∑–µ–º–ø–ª—è—Ä –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å
- –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ ‚Üí –∫–æ–º–∞–Ω–¥—ã —Ç–µ—Ä—è—é—Ç—Å—è

---

## üõ°Ô∏è –ú–µ—Ä—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è

### –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
- Production: –æ–¥–∏–Ω –±–æ—Ç –≤ –æ–±–ª–∞–∫–µ (Yandex Cloud)
- Development: —Ç–µ—Å—Ç–æ–≤—ã–π –±–æ—Ç —Å –¥—Ä—É–≥–∏–º —Ç–æ–∫–µ–Ω–æ–º
- –†–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è prod –∏ dev

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- –ó–∞–ø—É—Å–∫–∞—Ç—å –¥–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Å –æ–¥–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ production –±–æ—Ç–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å production —Ç–æ–∫–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–æ–∫–µ–Ω
3. –°–æ–∑–¥–∞—Ç—å `.env.local`:
   ```env
   BOT_TOKEN=<test_token>
   DB_HOST=localhost
   # ... –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   ```
4. –ó–∞–ø—É—Å–∫–∞—Ç—å —Å —Ç–µ—Å—Ç–æ–≤—ã–º –∫–æ–Ω—Ñ–∏–≥–æ–º:
   ```bash
   ENV_FILE=.env.local python -m app.main
   ```

---

## üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### check_bot_status.py

–°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
cd telegram-bot
python check_bot_status.py
```

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ (ID, username)
- ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –°—Ç–∞—Ç—É—Å webhook
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚ùå –ù–∞–ª–∏—á–∏–µ conflicts

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ï—Å–ª–∏ –≤—Å—ë –û–ö ‚Üí –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å
- –ï—Å–ª–∏ conflict ‚Üí —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ù–∞ VM (Yandex Cloud)
sudo docker ps | grep stock-tracker-bot
sudo docker logs -f stock-tracker-bot
sudo docker restart stock-tracker-bot

# –õ–æ–∫–∞–ª—å–Ω–æ
Get-Process python | Select Id, Path, StartTime
Stop-Process -Id <id> -Force
```

---

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚ùå –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–ª –Ω–∞ –∫–æ–º–∞–Ω–¥—ã
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ (–Ω–æ —Å–æ–∑–¥–∞–≤–∞–ª–∏ –ø—É—Ç–∞–Ω–∏—Ü—É)

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π –±–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ Production –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è

---

## üìö –°–æ–∑–¥–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|
| [check_bot_status.py](telegram-bot/check_bot_status.py) | –°–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ |
| [TROUBLESHOOTING_BOT_NOT_RESPONDING.md](telegram-bot/TROUBLESHOOTING_BOT_NOT_RESPONDING.md) | –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ |
| [DO_NOT_RUN_LOCALLY.md](telegram-bot/DO_NOT_RUN_LOCALLY.md) | –ö—Ä–∞—Ç–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ |
| [PRODUCTION_STATUS.md](PRODUCTION_STATUS.md) | –û–±–Ω–æ–≤–ª–µ–Ω Troubleshooting |

---

## ‚úÖ Checklist

- [x] –ü—Ä–æ–±–ª–µ–º–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ (conflict –¥–≤—É—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤)
- [x] –õ–æ–∫–∞–ª—å–Ω—ã–π –±–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [x] –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- [x] –ù–∞–ø–∏—Å–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- [x] –û–±–Ω–æ–≤–ª–µ–Ω PRODUCTION_STATUS.md
- [x] –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞

---

## üéì –í—ã–≤–æ–¥—ã

1. **–û–¥–∏–Ω —Ç–æ–∫–µ–Ω = –æ–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –±–æ—Ç** - –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ
2. **–†–∞–∑–¥–µ–ª—è–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - prod –∏ dev —Ç–æ–∫–µ–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º–∏
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É** - check_bot_status.py –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É
4. **–ê–ª–µ—Ä—Ç—ã ‚â† –∫–æ–º–∞–Ω–¥—ã** - —Ä–∞–∑–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã, –ø–æ-—Ä–∞–∑–Ω–æ–º—É —Ä–∞–±–æ—Ç–∞—é—Ç

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞, –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ  
**Production –±–æ—Ç:** –†–∞–±–æ—Ç–∞–µ—Ç 24/7 –≤ Yandex Cloud  
**–õ–æ–∫–∞–ª—å–Ω—ã–π –±–æ—Ç:** –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Å prod —Ç–æ–∫–µ–Ω–æ–º)

---

*–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞: 25 –¥–µ–∫–∞–±—Ä—è 2025 –≥.*
