# –û—Ç—á–µ—Ç: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ Wildberries –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å–∫–ª–∞–¥–∞–º FBO/FBS

**–î–∞—Ç–∞:** 28 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º (475 –≤ —Ç–∞–±–ª–∏—Ü–µ vs 3,459 –Ω–∞ WB –¥–ª—è —Ç–æ–≤–∞—Ä–∞ Its1_2_3/50g)  
**–¶–µ–ª—å:** –ù–∞–π—Ç–∏ API —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º FBS/MP –±–µ–∑ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

---

## üîç –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. **Warehouse Remains API v1** ‚úÖ (–¢–µ–∫—É—â–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Å—Ç–∞—Ç–∫–æ–≤)

**URL:** `https://seller-analytics-api.wildberries.ru/api/v1/warehouse_remains`

**–ú–µ—Ç–æ–¥:** GET ‚Üí —Å–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞—á—É ‚Üí —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `/tasks/{task_id}/download`

**–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```json
{
  "brand": "string",
  "subjectName": "string",
  "vendorCode": "string",
  "nmId": 123456,
  "barcode": "string",
  "techSize": "string",
  "volume": 0.5,
  "warehouses": [
    {
      "warehouseName": "–ü–æ–¥–æ–ª—å—Å–∫ 3",
      "quantity": 100
    },
    {
      "warehouseName": "–û–±—É—Ö–æ–≤–æ –ú–ü",
      "quantity": 50
    }
  ]
}
```

**–í–∞–∂–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏:**
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ **–ü–û –í–°–ï–ú –°–ö–õ–ê–î–ê–ú** (–≤–∫–ª—é—á–∞—è FBO –∏ FBS)
- ‚úÖ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É —Å–∫–ª–∞–¥—É —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- ‚ùå **–ù–ï–¢ –ø–æ–ª—è `warehouseType`** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Å–∫–ª–∞–¥–∞ (FBO/FBS)
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø —Å–∫–ª–∞–¥–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
- `groupByNm`, `groupBySa`, `groupByBarcode`, `groupBySize`
- `filterPics`, `filterVolume`
- ‚ùå **–ù–ï–¢ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø—É —Å–∫–ª–∞–¥–∞**

---

### 2. **Supplier Orders API v1** ‚úÖ (–°–æ–¥–µ—Ä–∂–∏—Ç warehouseType!)

**URL:** `https://statistics-api.wildberries.ru/api/v1/supplier/orders`

**–ú–µ—Ç–æ–¥:** GET —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `dateFrom`, `flag`

**–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```json
{
  "date": "2025-09-27T22:00:46",
  "lastChangeDate": "2025-09-28T02:12:53",
  "warehouseName": "–ü–æ–¥–æ–ª—å—Å–∫ 3",
  "warehouseType": "–°–∫–ª–∞–¥ WB",  // ‚Üê –ö–õ–Æ–ß–ï–í–û–ï –ü–û–õ–ï!
  "supplierArticle": "Its2/50g",
  "nmId": 163383327,
  "barcode": "4650243761433",
  "isCancel": false,
  ...
}
```

**–í–∞–∂–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏:**
- ‚úÖ **–ï–°–¢–¨ –ø–æ–ª–µ `warehouseType`** —Å enum –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:
  - `"–°–∫–ª–∞–¥ WB"` = FBO
  - `"–°–∫–ª–∞–¥ –ø—Ä–æ–¥–∞–≤—Ü–∞"` = FBS/MP
- ‚úÖ –ú–æ–∂–Ω–æ —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –∫–∞–∂–¥–æ–≥–æ —Å–∫–ª–∞–¥–∞ —á–µ—Ä–µ–∑ –∑–∞–∫–∞–∑—ã
- ‚úÖ –ü–æ–ª–µ `warehouseName` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∏–∑ warehouse_remains
- ‚ö†Ô∏è –≠—Ç–æ API **–∑–∞–∫–∞–∑–æ–≤**, –∞ –Ω–µ –æ—Å—Ç–∞—Ç–∫–æ–≤

**–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π):
- –í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤: 1,190
- "–°–∫–ª–∞–¥ WB" (FBO): 1,023 –∑–∞–∫–∞–∑–æ–≤ (86.0%)
- "–°–∫–ª–∞–¥ –ø—Ä–æ–¥–∞–≤—Ü–∞" (FBS): 166 –∑–∞–∫–∞–∑–æ–≤ (13.9%)
- FBS —Å–∫–ª–∞–¥: **"–û–±—É—Ö–æ–≤–æ –ú–ü"**

---

### 3. **Analytics API v2** ‚ö†Ô∏è (–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

**URL:** `https://seller-analytics-api.wildberries.ru/api/v2/stocks-report/products/products`

**–ú–µ—Ç–æ–¥:** POST —Å —Ç–µ–ª–æ–º –∑–∞–ø—Ä–æ—Å–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```json
{
  "currentPeriod": {"start": "2025-10-21", "end": "2025-10-28"},
  "stockType": "",  // ‚Üê –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ = –≤—Å–µ —Å–∫–ª–∞–¥—ã
  "skipDeletedNm": true,
  "availabilityFilters": ["actual", "balanced", "deficient"]
}
```

**–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- ‚úÖ –û–±—â–∏–µ –æ—Å—Ç–∞—Ç–∫–∏ –ø–æ –≤—Å–µ–º —Å–∫–ª–∞–¥–∞–º (FBO + FBS)
- ‚ùå **–ù–ï–¢ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø—É —Å–∫–ª–∞–¥–∞**
- ‚ùå **–ù–ï–¢ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è —Ä–∞–∑–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è FBO/FBS**
- ‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä `stockType` **–ù–ï** —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ FBO/FBS (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)

---

## üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–≤–æ–¥—ã

### ‚úÖ –ß—Ç–æ –º—ã –Ω–∞—à–ª–∏:

1. **API `warehouse_remains` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ü–û–õ–ù–´–ï –æ—Å—Ç–∞—Ç–∫–∏** (FBO + FBS)
   - –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ —Å–∫–ª–∞–¥—ã: "–ü–æ–¥–æ–ª—å—Å–∫ 3", "–û–±—É—Ö–æ–≤–æ –ú–ü" –∏ —Ç.–¥.
   - –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É —Å–∫–ª–∞–¥—É –æ—Ç–¥–µ–ª—å–Ω–æ
   
2. **API `supplier/orders` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ `warehouseType`**
   - –ú–æ–∂–Ω–æ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø —Å–∫–ª–∞–¥–∞
   - –ó–Ω–∞—á–µ–Ω–∏—è: "–°–∫–ª–∞–¥ WB" (FBO) vs "–°–∫–ª–∞–¥ –ø—Ä–æ–¥–∞–≤—Ü–∞" (FBS)

3. **FBS —Å–∫–ª–∞–¥ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω: "–û–±—É—Ö–æ–≤–æ –ú–ü"**
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ —á–µ—Ä–µ–∑ API –∑–∞–∫–∞–∑–æ–≤
   - –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –¥–∞–Ω–Ω—ã—Ö warehouse_remains

### ‚ùå –ß–µ–≥–æ –ù–ï–¢ –≤ API:

1. **–ù–µ—Ç –ø—Ä—è–º–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¢–û–õ–¨–ö–û FBS –æ—Å—Ç–∞—Ç–∫–æ–≤**
2. **–ù–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø—É —Å–∫–ª–∞–¥–∞ –≤ warehouse_remains**
3. **–ù–µ—Ç –ø–æ–ª—è warehouseType –≤ –æ—Ç–≤–µ—Ç–µ warehouse_remains**

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ü–æ–¥—Ö–æ–¥: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–≤—É—Ö API

**–®–∞–≥ 1:** –ü–æ–ª—É—á–∏—Ç—å –º–∞–ø–∏–Ω–≥ —Å–∫–ª–∞–¥–æ–≤ —á–µ—Ä–µ–∑ API –∑–∞–∫–∞–∑–æ–≤
```python
# –ó–∞–ø—Ä–æ—Å –∑–∞–∫–∞–∑–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–µ—Ä–∏–æ–¥
orders = await client.get_supplier_orders(date_from="2025-09-01")

# –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞–ø–∏–Ω–≥: warehouseName ‚Üí warehouseType
warehouse_types = {}
for order in orders:
    wh_name = order["warehouseName"]
    wh_type = order.get("warehouseType", "")
    if wh_name and wh_type:
        warehouse_types[wh_name] = wh_type

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# {
#   "–ü–æ–¥–æ–ª—å—Å–∫ 3": "–°–∫–ª–∞–¥ WB",
#   "–ö–æ–ª–µ–¥–∏–Ω–æ": "–°–∫–ª–∞–¥ WB",
#   "–û–±—É—Ö–æ–≤–æ –ú–ü": "–°–∫–ª–∞–¥ –ø—Ä–æ–¥–∞–≤—Ü–∞",
#   ...
# }
```

**–®–∞–≥ 2:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∞–ø–∏–Ω–≥ –∫ –¥–∞–Ω–Ω—ã–º –æ—Å—Ç–∞—Ç–∫–æ–≤
```python
# –ó–∞–ø—Ä–æ—Å –æ—Å—Ç–∞—Ç–∫–æ–≤
warehouse_data = await client.get_warehouse_remains_with_retry()

# –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤ –ø–æ —Ç–∏–ø—É
for product in warehouse_data:
    fbo_stock = 0
    fbs_stock = 0
    
    for warehouse in product.get("warehouses", []):
        wh_name = warehouse["warehouseName"]
        quantity = warehouse["quantity"]
        wh_type = warehouse_types.get(wh_name, "Unknown")
        
        if wh_type == "–°–∫–ª–∞–¥ WB":
            fbo_stock += quantity
        elif wh_type == "–°–∫–ª–∞–¥ –ø—Ä–æ–¥–∞–≤—Ü–∞":
            fbs_stock += quantity
    
    product["fbo_stock"] = fbo_stock
    product["fbs_stock"] = fbs_stock
    product["total_stock"] = fbo_stock + fbs_stock
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:

‚úÖ **100% —Ç–æ—á–Ω–æ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ API WB  
‚úÖ **–ù–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∫–ª–∞–¥–æ–≤  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–∫–ª–∞–¥–æ–≤ –æ–Ω–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã  
‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases** - —Å–∫–ª–∞–¥—ã –±–µ–∑ —Ç–∏–ø–∞ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ "Unknown"

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π API –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤  
‚ö†Ô∏è –ù–æ–≤—ã–µ —Å–∫–ª–∞–¥—ã –±–µ–∑ –∑–∞–∫–∞–∑–æ–≤ –Ω–µ –±—É–¥—É—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã (–Ω–æ —Ç–∞–∫–∏—Ö –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ)  
‚ö†Ô∏è –ù—É–∂–Ω–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –º–∞–ø–∏–Ω–≥ —Å–∫–ª–∞–¥–æ–≤

---

## üìã –ü–ª–∞–Ω –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–∫–ª–∞–¥–æ–≤

**–§–∞–π–ª:** `src/stock_tracker/services/warehouse_classifier.py`

```python
class WarehouseClassifier:
    """–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Å–∫–ª–∞–¥—ã –Ω–∞ FBO –∏ FBS —á–µ—Ä–µ–∑ API –∑–∞–∫–∞–∑–æ–≤."""
    
    async def build_warehouse_mapping(self, days: int = 90) -> Dict[str, str]:
        """–°—Ç—Ä–æ–∏—Ç –º–∞–ø–∏–Ω–≥ —Å–∫–ª–∞–¥–æ–≤ —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏–∑ –∑–∞–∫–∞–∑–æ–≤."""
        pass
    
    def classify_warehouse(self, warehouse_name: str) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø —Å–∫–ª–∞–¥–∞: 'FBO', 'FBS', 'Unknown'."""
        pass
    
    def calculate_stock_by_type(self, product: Dict) -> Dict[str, int]:
        """–í—ã—á–∏—Å–ª—è–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ FBO/FBS –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∞."""
        pass
```

### –§–∞–∑–∞ 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ProductService

**–§–∞–π–ª:** `src/stock_tracker/services/product_service.py`

- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é `WarehouseClassifier`
- –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `_convert_api_record_to_product()`
- –ü—Ä–∏–º–µ–Ω—è—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é –∫ –¥–∞–Ω–Ω—ã–º –æ—Å—Ç–∞—Ç–∫–æ–≤

### –§–∞–∑–∞ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Å–∫–ª–∞–¥–∞—Ö
2. –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞ —Å–∞–π—Ç–µ WB
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–≤–∞—Ä Its1_2_3/50g (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~3,459)

### –§–∞–∑–∞ 4: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –û–±–Ω–æ–≤–∏—Ç—å `urls.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥
- –°–æ–∑–¥–∞—Ç—å FAQ –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Ç–∏–ø–∞–º–∏ —Å–∫–ª–∞–¥–æ–≤

---

## ‚ö†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è)

### ‚ùå –í–∞—Ä–∏–∞–Ω—Ç 1: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ FBS = Total - FBO
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—É—â–∏–π warehouse_remains –£–ñ–ï —Å–æ–¥–µ—Ä–∂–∏—Ç FBO+FBS, –Ω–µ—Ç "—á–∏—Å—Ç–æ–≥–æ FBO"

### ‚ùå –í–∞—Ä–∏–∞–Ω—Ç 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å–∫–ª–∞–¥–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç —á–µ—Ç–∫–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞, "–ú–ü" –Ω–µ –≤—Å–µ–≥–¥–∞ = FBS, –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è

### ‚ùå –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Analytics API v2
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞–∑–±–∏–≤–∫—É –ø–æ —Ç–∏–ø–∞–º —Å–∫–ª–∞–¥–æ–≤

---

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è —Å —Ç–æ–≤–∞—Ä–æ–º Its1_2_3/50g

**WB –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:** 3,459 –æ—Å—Ç–∞—Ç–∫–æ–≤  
**–¢–∞–±–ª–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:** 475 –æ—Å—Ç–∞—Ç–∫–æ–≤  
**–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:** 2,984 (86%)

**–ì–∏–ø–æ—Ç–µ–∑–∞:**
- –¢–µ–∫—É—â–∏–π –∫–æ–¥ –ù–ï —Å—á–∏—Ç–∞–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ "–û–±—É—Ö–æ–≤–æ –ú–ü" (FBS)
- –õ–∏–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Å–∫–ª–∞–¥–∞–º
- –õ–∏–±–æ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –±–∞—Ä–∫–æ–¥–æ–≤/–∞—Ä—Ç–∏–∫—É–ª–æ–≤

**–ü–æ—Å–ª–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ä–µ—à–µ–Ω–∏—è:**
- –ë—É–¥–µ—Ç —á–µ—Ç–∫–∞—è —Ä–∞–∑–±–∏–≤–∫–∞: FBO –æ—Å—Ç–∞—Ç–∫–∏ + FBS –æ—Å—Ç–∞—Ç–∫–∏ = Total
- –ú–æ–∂–Ω–æ –±—É–¥–µ—Ç —Ç–æ—á–Ω–æ –≤—ã—è–≤–∏—Ç—å –≥–¥–µ –∏–º–µ–Ω–Ω–æ —Ç–µ—Ä—è—é—Ç—Å—è –æ—Å—Ç–∞—Ç–∫–∏

---

## ‚úÖ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **IMMEDIATE:** –°–æ–∑–¥–∞—Ç—å `WarehouseClassifier` –º–æ–¥—É–ª—å
2. **HIGH:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `ProductService`
3. **HIGH:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ç–æ–≤–∞—Ä–µ Its1_2_3/50g
4. **MEDIUM:** –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
5. **LOW:** –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞–ø–∏–Ω–≥–∞ —Å–∫–ª–∞–¥–æ–≤

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `STOCK_DISCREPANCY_REPORT.md` - –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã
- `urls.md` - —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- `API_V2_MAPPING_REPORT.md` - –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ API v2

---

**–í—ã–≤–æ–¥:** –ü—Ä—è–º–æ–≥–æ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –¥–ª—è —Ä–∞–∑–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è FBS/FBO –æ—Å—Ç–∞—Ç–∫–æ–≤ –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ `warehouse_remains` (–æ—Å—Ç–∞—Ç–∫–∏) + `supplier/orders` (—Ç–∏–ø—ã —Å–∫–ª–∞–¥–æ–≤) –¥–ª—è —Ç–æ—á–Ω–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏.
