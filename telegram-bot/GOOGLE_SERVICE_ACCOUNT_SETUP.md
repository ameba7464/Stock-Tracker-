# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Service Account –¥–ª—è Telegram –ë–æ—Ç–∞

## –ß—Ç–æ —ç—Ç–æ?

Service Account - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç Google, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å Google –¢–∞–±–ª–∏—Ü—ã –æ—Ç –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞ (–Ω–µ —Ç—Ä–µ–±—É—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).

## üìù –®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Google Cloud Console

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Google Cloud Console](https://console.cloud.google.com/)
2. –ù–∞–∂–º–∏—Ç–µ "Select a project" ‚Üí "NEW PROJECT"
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: `stock-tracker-bot`
4. –ù–∞–∂–º–∏—Ç–µ "CREATE"

### 2. –í–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö API

1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏—Ç–µ "APIs & Services" ‚Üí "Library"
2. –ù–∞–π–¥–∏—Ç–µ –∏ –≤–∫–ª—é—á–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ API:
   - **Google Sheets API** (–ø–æ–∏—Å–∫: "sheets")
   - **Google Drive API** (–ø–æ–∏—Å–∫: "drive")
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ API –Ω–∞–∂–º–∏—Ç–µ "ENABLE"

### 3. –°–æ–∑–¥–∞–Ω–∏–µ Service Account

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "APIs & Services" ‚Üí "Credentials"
2. –ù–∞–∂–º–∏—Ç–µ "CREATE CREDENTIALS" ‚Üí "Service account"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Service account name**: `stock-tracker-service`
   - **Service account ID**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è
   - **Description**: `Service account for Stock Tracker Telegram Bot`
4. –ù–∞–∂–º–∏—Ç–µ "CREATE AND CONTINUE"
5. –ù–∞ —à–∞–≥–µ "Grant this service account access to project" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –Ω–∞–∂–º–∏—Ç–µ "CONTINUE"
6. –ù–∞ —à–∞–≥–µ "Grant users access to this service account" –Ω–∞–∂–º–∏—Ç–µ "DONE"

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–∞ (credentials)

1. –í —Å–ø–∏—Å–∫–µ Service Accounts –Ω–∞–π–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç `stock-tracker-service`
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "KEYS"
4. –ù–∞–∂–º–∏—Ç–µ "ADD KEY" ‚Üí "Create new key"
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç "JSON"
6. –ù–∞–∂–º–∏—Ç–µ "CREATE"
7. –§–∞–π–ª `credentials.json` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç—Å—è

### 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ credentials –≤ –ø—Ä–æ–µ–∫—Ç

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `credentials.json` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `telegram-bot/`
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å:
   ```
   telegram-bot/
   ‚îú‚îÄ‚îÄ credentials.json  ‚Üê –í–ê–® –§–ê–ô–õ
   ‚îú‚îÄ‚îÄ app/
   ‚îú‚îÄ‚îÄ requirements.txt
   ‚îî‚îÄ‚îÄ ...
   ```

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ credentials.json

–§–∞–π–ª –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```json
{
  "type": "service_account",
  "project_id": "stock-tracker-bot-xxxxx",
  "private_key_id": "xxxxxxxxxxxxx",
  "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
  "client_email": "stock-tracker-service@stock-tracker-bot-xxxxx.iam.gserviceaccount.com",
  "client_id": "xxxxxxxxxxxxx",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/..."
}
```

### 7. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û:**
- –§–∞–π–ª `credentials.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
- **–ù–ï –ü–£–ë–õ–ò–ö–£–ô–¢–ï** –µ–≥–æ –≤ GitHub –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
- –û–Ω —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- –•—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç WB API –∫–ª—é—á** ‚Üí –±–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ –ë–î
2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü–æ–ª—É—á–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É"** ‚Üí –±–æ—Ç:
   - –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Wildberries API
   - –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é Google –¢–∞–±–ª–∏—Ü—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "Stock Tracker - {–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è}"
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–∞–µ—Ç –¥–æ—Å—Ç—É–ø "–†–µ–¥–∞–∫—Ç–æ—Ä" –≤—Å–µ–º —É –∫–æ–≥–æ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞
   - –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É –¥–∞–Ω–Ω—ã–º–∏ –æ —Ç–æ–≤–∞—Ä–∞—Ö
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–∞–±–ª–∏—Ü—É
3. **–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ** ‚Üí –±–æ—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
2. –ü—Ä–æ–π–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
3. –î–æ–±–∞–≤—å—Ç–µ WB API –∫–ª—é—á
4. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É"
5. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω:
   - –ü–æ–∫–∞–∑–∞—Ç—å "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã –Ω–∞—á–∞–ª–∞—Å—å..."
   - –ß–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã –≤—ã–¥–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ Google –¢–∞–±–ª–∏—Ü—É
   - –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏

## ‚ùå –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "Google Sheets service not initialized"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ `credentials.json` –≤ –ø–∞–ø–∫–µ `telegram-bot/`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π JSON)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫

### "HTTP error creating sheet: 403"

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Google Sheets API –∏ Google Drive API –≤–∫–ª—é—á–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ credentials —Ñ–∞–π–ª –≤–∞–ª–∏–¥–Ω—ã–π

### "Module not found: google"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd telegram-bot
pip install -r requirements.txt
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏ –±–æ—Ç–∞ –≤ –ø–∞–ø–∫–µ `logs/`
2. –ù–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ `credentials.json`
3. –í–∫–ª—é—á–µ–Ω—ã –ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API –≤ Google Cloud Console

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 25 –Ω–æ—è–±—Ä—è 2025 –≥.
**–í–µ—Ä—Å–∏—è:** 1.0.0
