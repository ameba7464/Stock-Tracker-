# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Google Sheets

## üöÄ TL;DR

–ù–æ–≤–∞—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Google Sheets —Å 2 —Å—Ç—Ä–æ–∫–∞–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Å–∫–ª–∞–¥–∞–º–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö.

## üì¶ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1. –û–±–Ω–æ–≤–∏—Ç—å –ë–î
```powershell
cd Stock-Tracker
alembic upgrade head
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```powershell
pytest tests/test_new_sheets_structure.py -v
```

### 3. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (dry-run):
```powershell
python scripts/migrate_sheets_to_horizontal_layout.py --dry-run
```

#### –ú–∏–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∑–µ—Ä–≤–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏:
```powershell
python scripts/migrate_sheets_to_horizontal_layout.py --backup
```

#### –ú–∏–≥—Ä–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ tenant'–∞:
```powershell
python scripts/migrate_sheets_to_horizontal_layout.py --tenant-id <ID> --backup
```

## üìä –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?

### –ë—ã–ª–æ (—Å—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):
```
| –ë—Ä–µ–Ω–¥ | –ü—Ä–µ–¥–º–µ—Ç | –ê—Ä—Ç–∏–∫—É–ª | –í –ø—É—Ç–∏ | –ó–∞–∫–∞–∑—ã | –°–∫–ª–∞–¥1 | –°–∫–ª–∞–¥2 |
```
- 1 —Å—Ç—Ä–æ–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- –ü—Ä–æ—Å—Ç–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞

### –°—Ç–∞–ª–æ (–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):
```
| –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è   | –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏     | –ö–æ–ª–µ–¥–∏–Ω–æ       | –ü–æ–¥–æ–ª—å—Å–∫       |
| –ë—Ä–µ–Ω–¥ | –ü—Ä–µ–¥–º–µ—Ç | ... | –í –ø—É—Ç–∏ | –ó–∞–∫–∞–∑—ã | –û—Å—Ç.| –ó–∞–∫.| –û–±–æ—Ä.| –û—Å—Ç.| –ó–∞–∫.| –û–±–æ—Ä.|
```
- 2 —Å—Ç—Ä–æ–∫–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–µ–∫—Ü–∏—è–º
- –ö–∞–∂–¥—ã–π —Å–∫–ª–∞–¥ = 3 –∫–æ–ª–æ–Ω–∫–∏ (–û—Å—Ç–∞—Ç–∫–∏, –ó–∞–∫–∞–∑—ã, –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º–æ—Å—Ç—å)
- –¢–æ–ª—Å—Ç—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏
- –§–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ñ–æ–Ω –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–û–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –Ω–µ—Ç** - —Å—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ --backup** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ dry-run** –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª—å–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–µ–π
4. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –ë–î** –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

## üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [`docs/GOOGLE_SHEETS_HORIZONTAL_LAYOUT.md`](./GOOGLE_SHEETS_HORIZONTAL_LAYOUT.md)

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ë–î –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞: `alembic current`
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏

## ‚úÖ Checklist

- [ ] –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î (`alembic upgrade head`)
- [ ] –ó–∞–ø—É—â–µ–Ω—ã —Ç–µ—Å—Ç—ã (`pytest tests/test_new_sheets_structure.py`)
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω dry-run –º–∏–≥—Ä–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü
- [ ] –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è (--backup)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ tenant'–∞
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã

---

**–ì–æ—Ç–æ–≤–æ!** –í–∞—à–∏ Google Sheets —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–æ–≤—É—é –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É üéâ
