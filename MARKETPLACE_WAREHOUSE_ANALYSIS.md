# –û–¢–ß–Å–¢: –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Å—Ç–∞—Ç–∫–∞–º–∏ Its1_2_3/50g

## –î–∞—Ç–∞: 2025-10-28

## –ü—Ä–æ–±–ª–µ–º–∞
- **–û–∂–∏–¥–∞–µ–º—ã–µ –æ—Å—Ç–∞—Ç–∫–∏:** ~3,459 —à—Ç (–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è)
- **–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü–µ:** 475 —à—Ç  
- **–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:** 86% –æ—Å—Ç–∞—Ç–∫–æ–≤ –Ω–µ —É—á—Ç–µ–Ω—ã

## –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

### CSV —ç–∫—Å–ø–æ—Ä—Ç –∏–∑ Wildberries (—ç—Ç–∞–ª–æ–Ω)
–§–∞–π–ª: `27-10-2025 –ò—Å—Ç–æ—Ä–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤ —Å 21-10-2025 –ø–æ 27-10-2025_export.csv`

**Its1_2_3/50g –æ—Å—Ç–∞—Ç–∫–∏ –ø–æ —Å–∫–ª–∞–¥–∞–º:**
```
–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å           2,993 —à—Ç  (86.1%)
–ß–µ—Ö–æ–≤ 1                 193 —à—Ç   (5.6%)
–ö–æ—Ç–æ–≤—Å–∫                  96 —à—Ç   (2.8%)
–ù–æ–≤–æ—Å–µ–º–µ–π–∫–∏–Ω–æ            91 —à—Ç   (2.6%)
–†—è–∑–∞–Ω—å (–¢—é—à–µ–≤—Å–∫–æ–µ)       53 —à—Ç   (1.5%)
–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä                52 —à—Ç   (1.5%)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ò–¢–û–ì–û:               3,478 —à—Ç (100%)
```

### API warehouse_remains –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
**–¢–æ–ª—å–∫–æ:** 475 —à—Ç (13.7% –æ—Ç CSV)

### –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è
**–†–∞–∑–Ω–∏—Ü–∞:** 3,003 —à—Ç (86.3%)

**–ö–ª—é—á–µ–≤–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ:** 
- –°–∫–ª–∞–¥ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å" —Å 2,993 —à—Ç **–û–¢–°–£–¢–°–¢–í–£–ï–¢** –≤ API –æ—Ç–≤–µ—Ç–µ
- 2,993 —à—Ç ‚âà 3,003 —à—Ç (–Ω–µ–¥–æ—Å—Ç–∞—é—â–∞—è —Ä–∞–∑–Ω–∏—Ü–∞)

## –ì–∏–ø–æ—Ç–µ–∑–∞

### API `warehouse_remains` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
- ‚úÖ **quantityNotInOrders** - —Å–≤–æ–±–æ–¥–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Å–∫–ª–∞–¥–∞—Ö (475 —à—Ç)
- ‚ùå **–ù–ï –≤–∫–ª—é—á–∞–µ—Ç** –æ—Å—Ç–∞—Ç–∫–∏ –Ω–∞ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ" (2,993 —à—Ç)
- ‚ùå **–ù–ï –≤–∫–ª—é—á–∞–µ—Ç** —Ç–æ–≤–∞—Ä "–≤ –∑–∞–∫–∞–∑–∞—Ö" (–µ—Å–ª–∏ –µ—Å—Ç—å)

### CSV —ç–∫—Å–ø–æ—Ä—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- ‚úÖ **–í–°–ï –æ—Å—Ç–∞—Ç–∫–∏** –≤–∫–ª—é—á–∞—è:
  - –§–∏–∑–∏—á–µ—Å–∫–∏–µ —Å–∫–ª–∞–¥—ã (485 —à—Ç = 193+96+91+53+52)
  - –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (2,993 —à—Ç)
  - –í–æ–∑–º–æ–∂–Ω–æ, —Ç–æ–≤–∞—Ä –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ

## –ü—Ä–æ–±–ª–µ–º–∞ —Å "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å" —Å–∫–ª–∞–¥–æ–º

### –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?
**"–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å"** - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–∫–ª–∞–¥ Wildberries, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç:
1. –¢–æ–≤–∞—Ä—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ —Ç—Ä–∞–Ω–∑–∏—Ç–µ –º–µ–∂–¥—É —Å–∫–ª–∞–¥–∞–º–∏
2. –¢–æ–≤–∞—Ä—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤
3. –¢–æ–≤–∞—Ä—ã –Ω–∞ FBS —Å–∫–ª–∞–¥–∞—Ö (Fulfillment by Seller)
4. –¢–æ–≤–∞—Ä—ã "–≤ –ø—É—Ç–∏ –∫ –∫–ª–∏–µ–Ω—Ç—É"

### –ü–æ—á–µ–º—É –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ API?
–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
1. **–§–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ API** - –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è "—Ä–µ–∞–ª—å–Ω—ã–º —Å–∫–ª–∞–¥–æ–º"
2. **–î—Ä—É–≥–æ–π endpoint** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö
3. **–î—Ä—É–≥–æ–µ –ø–æ–ª–µ** - –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ `quantityInOrders` –∏–ª–∏ –ø–æ—Ö–æ–∂–µ–º –ø–æ–ª–µ

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞

### –§–∞–π–ª: `src/stock_tracker/services/product_service.py:557`
```python
warehouse_quantity = wh.get('quantity', 0)
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ `quantity`, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç:
- –¢–æ–≤–∞—Ä –Ω–∞ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ"
- –¢–æ–≤–∞—Ä "–≤ –∑–∞–∫–∞–∑–∞—Ö" (quantityInOrders)
- –¢–æ–≤–∞—Ä "–≤ –ø—É—Ç–∏"

### –§–∞–π–ª: `src/stock_tracker/services/product_service.py:559-562`
```python
if warehouse_name in ("–í –ø—É—Ç–∏ –¥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π", "–í –ø—É—Ç–∏ –≤–æ–∑–≤—Ä–∞—Ç—ã –Ω–∞ —Å–∫–ª–∞–¥ WB", 
                     "–í—Å–µ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å–∫–ª–∞–¥–∞—Ö"):
    logger.debug(f"Skipping service warehouse: {warehouse_name}")
    continue
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∏–ª—å—Ç—Ä—É–µ–º —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–∫–ª–∞–¥—ã, –Ω–æ **"–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å" –Ω–µ –≤ —Å–ø–∏—Å–∫–µ!**

## –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å" ‚úÖ (–ü–†–û–°–¢–û–ô)
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏ API —Å–∫–ª–∞–¥ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å"
2. –ï—Å–ª–∏ –î–ê - —É–±—Ä–∞—Ç—å –µ–≥–æ –∏–∑ —Å–ø–∏—Å–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
3. –ï—Å–ª–∏ –ù–ï–¢ - –ø–µ—Ä–µ–π—Ç–∏ –∫ –í–∞—Ä–∏–∞–Ω—Ç—É 2

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
# –ë–´–õ–û:
if warehouse_name in ("–í –ø—É—Ç–∏ –¥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π", ...):
    continue

# –°–¢–ê–õ–û:
# –í–∫–ª—é—á–∞–µ–º "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å" –∫–∞–∫ —Ä–µ–∞–ª—å–Ω—ã–π —Å–∫–ª–∞–¥ –¥–ª—è —É—á—ë—Ç–∞ FBS —Ç–æ–≤–∞—Ä–æ–≤
if warehouse_name in ("–í –ø—É—Ç–∏ –¥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π", "–í –ø—É—Ç–∏ –≤–æ–∑–≤—Ä–∞—Ç—ã –Ω–∞ —Å–∫–ª–∞–¥ WB"):
    continue
# "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å" –∏ "–í—Å–µ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å–∫–ª–∞–¥–∞—Ö" —Ç–µ–ø–µ—Ä—å —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è API ‚ö†Ô∏è (–°–õ–û–ñ–ù–´–ô)
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é WB API –Ω–∞ –Ω–∞–ª–∏—á–∏–µ:
   - `quantityInOrders` - —Ç–æ–≤–∞—Ä –≤ –∑–∞–∫–∞–∑–∞—Ö
   - `quantityInTransit` - —Ç–æ–≤–∞—Ä –≤ –ø—É—Ç–∏
   - `marketplaceQuantity` - —Ç–æ–≤–∞—Ä –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ
2. –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥:
```python
warehouse_quantity = wh.get('quantity', 0)
in_orders = wh.get('quantityInOrders', 0)
in_transit = wh.get('quantityInTransit', 0)
total_quantity = warehouse_quantity + in_orders + in_transit
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π API endpoint üîç (–ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï)
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API `/api/v2/stocks` - –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API `/api/v1/supplier/stocks` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
3. –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å CSV —ç–∫—Å–ø–æ—Ä—Ç–æ–º

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í–∞—Ä–∏–∞–Ω—Ç 1 ‚úÖ
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –æ—Ç–≤–µ—Ç** - –µ—Å—Ç—å –ª–∏ —Ç–∞–º —Å–∫–ª–∞–¥ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å"
2. **–ï—Å–ª–∏ –µ—Å—Ç—å** - —É–±—Ä–∞—Ç—å –∏–∑ —Ñ–∏–ª—å—Ç—Ä–∞ –∏ –ø–µ—Ä–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å ~3,478 —à—Ç

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –í–∞—Ä–∏–∞–Ω—Ç 2 + 3
1. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–ª—è –≤ API –æ—Ç–≤–µ—Ç–µ
2. –ù–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –í–°–ï–• –æ—Å—Ç–∞—Ç–∫–æ–≤
3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π API ‚Üî CSV

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–æ:** –ê–Ω–∞–ª–∏–∑ CSV - –Ω–∞–π–¥–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ (—Å–∫–ª–∞–¥ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å")
2. ‚è≥ **–í –ø—Ä–æ—Ü–µ—Å—Å–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ API –æ—Ç–≤–µ—Ç–∞ - –µ—Å—Ç—å –ª–∏ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å" –≤ –¥–∞–Ω–Ω—ã—Ö
3. ‚èπÔ∏è **–û–∂–∏–¥–∞–µ—Ç:** –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è –æ –≤–∞—Ä–∏–∞–Ω—Ç–µ —Ä–µ—à–µ–Ω–∏—è
4. ‚èπÔ∏è **–û–∂–∏–¥–∞–µ—Ç:** –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
5. ‚èπÔ∏è **–û–∂–∏–¥–∞–µ—Ç:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–ø–æ–≤—Ç–æ—Ä–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

1. ‚ùì –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏ API `warehouse_remains` —Å–∫–ª–∞–¥ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å"?
2. ‚ùì –ï—Å—Ç—å –ª–∏ –≤ API –æ—Ç–≤–µ—Ç–µ –ø–æ–ª—è `quantityInOrders` –∏–ª–∏ `quantityInTransit`?
3. ‚ùì –ü–æ—á–µ–º—É —Ç–µ–∫—É—â–∏–π –∫–æ–¥ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç "–í—Å–µ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å–∫–ª–∞–¥–∞—Ö"?
4. ‚ùì –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å" FBS –∏–ª–∏ FBO —Å–∫–ª–∞–¥–æ–º?

## –í—ã–≤–æ–¥—ã

‚úÖ **–ü—Ä–∏—á–∏–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞:** 86% –æ—Å—Ç–∞—Ç–∫–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ —Å–∫–ª–∞–¥–µ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å" (2,993 –∏–∑ 3,478 —à—Ç)

‚ö†Ô∏è **–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** API –ª–∏–±–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–æ—Ç —Å–∫–ª–∞–¥, –ª–∏–±–æ –º—ã –µ–≥–æ —Ñ–∏–ª—å—Ç—Ä—É–µ–º

üéØ **–¶–µ–ª—å:** –í–∫–ª—é—á–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞" –≤ –æ–±—â–∏–π –ø–æ–¥—Å—á—ë—Ç

---

**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–î–∞—Ç–∞:** 2025-10-28 17:30
